<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [<!ENTITY buildfile SYSTEM "file:./build-user.xml">]>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->
<project basedir="." default="build" name="drftpd">
    &buildfile;
    <property name="drftpd.location" value="/home/zubov/drftpd"/>
    <path id="project.classpath">
        <pathelement location="classes"/>
        <pathelement location="${drftpd.location}/lib/log4j-1.2.8.jar"/>
        <pathelement location="${drftpd.location}/lib/oro.jar"/>
        <pathelement location="${drftpd.location}/lib/replacer.jar"/>
        <pathelement location="${drftpd.location}/lib/wrapper.jar"/>
        <pathelement location="/usr/share/junit/lib/junit.jar"/>
        <pathelement location="${drftpd.location}/lib/irclib.jar"/>
    </path>
    <target name="init">
        <mkdir dir="classes"/>
    </target>
    <target name="clean">
        <delete dir="classes"/>
    </target>
    <target depends="init" name="build">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac destdir="classes">
            <src path="src"/>
            <src path="src-slaveselection"/>
            <exclude name="**/*Test.java"/>
            <exclude name="net/drmods/"/>
            <exclude name="net/sf/drftpd/master/command/plugins/DataConnectionHandlerTest.java"/>
            <exclude name="net/sf/drftpd/master/command/plugins/IRC.java"/>
            <exclude name="net/sf/drftpd/master/command/plugins/Invite.java"/>
            <exclude name="net/sf/drftpd/master/command/plugins/LoginTest.java"/>
            <exclude name="net/sf/drftpd/master/command/plugins/Search.java"/>
            <exclude name="net/sf/drftpd/master/command/plugins/SiteManagement.java"/>
            <exclude name="net/sf/drftpd/master/command/plugins/TextoutputTest.java"/>
            <exclude name="net/sf/drftpd/master/queues/NukeLog.java"/>
            <exclude name="net/sf/drftpd/util/UserComparator.java"/>
            <exclude name="org/drftpd/commands/ArchiveCommandHandler.java"/>
            <exclude name="org/drftpd/commands/ArchiveCommandHandler.properties"/>
            <exclude name="org/drftpd/commands/Find.java"/>
            <exclude name="org/drftpd/commands/Find.properties"/>
            <exclude name="org/drftpd/commands/MLST.java"/>
            <exclude name="org/drftpd/commands/MoreStats.java"/>
            <exclude name="org/drftpd/commands/MoreStats.properties"/>
            <exclude name="org/drftpd/commands/New.java"/>
            <exclude name="org/drftpd/commands/New.properties"/>
            <exclude name="org/drftpd/commands/Nuke.java"/>
            <exclude name="org/drftpd/commands/Nuke.properties"/>
            <exclude name="org/drftpd/commands/Pre.java"/>
            <exclude name="org/drftpd/commands/Pre.properties"/>
            <exclude name="org/drftpd/commands/PreTest.java"/>
            <exclude name="org/drftpd/commands/Request.java"/>
            <exclude name="org/drftpd/commands/Request.properties"/>
            <exclude name="org/drftpd/commands/Sections.java"/>
            <exclude name="org/drftpd/commands/Sections.properties"/>
            <exclude name="org/drftpd/commands/SiteBotManagement.java"/>
            <exclude name="org/drftpd/commands/SiteBotManagement.properties"/>
            <exclude name="org/drftpd/commands/TransferStatistics.java"/>
            <exclude name="org/drftpd/commands/UserManagement.java.orig"/>
            <exclude name="org/drftpd/commands/UserManagement.java.rej"/>
            <exclude name="org/drftpd/commands/UserManagement.properties"/>
            <exclude name="org/drftpd/commands/UserManagementTest.java"/>
            <exclude name="org/drftpd/irc/SiteBot.java"/>
            <exclude name="org/drftpd/irc/Tasker.java"/>
            <exclude name="org/drftpd/irc/listeners/Default.java"/>
            <exclude name="org/drftpd/irc/listeners/IRCListener.java"/>
            <exclude name="org/drftpd/irc/listeners/Log.java"/>
            <exclude name="org/drftpd/irc/listeners/psyBNC.java"/>
            <exclude name="org/drftpd/irc/utils/Channel.java"/>
            <exclude name="org/drftpd/irc/utils/CommandList.java"/>
            <exclude name="org/drftpd/irc/utils/IRCCommands.java"/>
            <exclude name="org/drftpd/irc/utils/IRCPermission.java"/>
            <exclude name="org/drftpd/irc/utils/MessageCommand.java"/>
            <exclude name="org/drftpd/mirroring/archivetypes/ConstantMirroring.java"/>
            <exclude name="org/drftpd/mirroring/archivetypes/ConstantMirroring.java.orig"/>
            <exclude name="org/drftpd/mirroring/archivetypes/ConstantMirroring.java.rej"/>
            <exclude name="org/drftpd/mirroring/archivetypes/ConstantMirroringAndArchive.java"/>
            <exclude name="org/drftpd/mirroring/archivetypes/FinishReleaseOnSlaves.java"/>
            <exclude name="org/drftpd/mirroring/archivetypes/MoveReleaseOffSlavesToMostFreeSlaves.java"/>
            <exclude name="org/drftpd/mirroring/archivetypes/MoveReleaseOffSlavesToMostFreeSlaves.java.orig"/>
            <exclude name="org/drftpd/mirroring/archivetypes/MoveReleaseOffSlavesToMostFreeSlaves.java.rej"/>
            <exclude name="org/drftpd/mirroring/archivetypes/MoveReleaseToMostFreeSlaves.java"/>
            <exclude name="org/drftpd/mirroring/archivetypes/MoveReleaseToSpecificSlaves.java"/>
            <exclude name="org/drftpd/plugins/AffilManagement.java"/>
            <exclude name="org/drftpd/plugins/AffilManagementTest.java"/>
            <exclude name="org/drftpd/plugins/DIZFile.java"/>
            <exclude name="org/drftpd/plugins/DIZPlugin.java"/>
            <exclude name="org/drftpd/plugins/DelegatingArchive.java"/>
            <exclude name="org/drftpd/plugins/Exec.java"/>
            <exclude name="org/drftpd/plugins/GlftpdLog.java"/>
            <exclude name="org/drftpd/plugins/Mirror.java"/>
            <exclude name="org/drftpd/plugins/PreTime.java"/>
            <exclude name="org/drftpd/plugins/RaceStatistics.java"/>
            <exclude name="org/drftpd/plugins/SiteBot.java"/>
            <exclude name="org/drftpd/plugins/SiteBot.properties"/>
            <exclude name="org/drftpd/plugins/SiteBotSSL.java"/>
            <exclude name="org/drftpd/plugins/Statistics.java"/>
            <exclude name="org/drftpd/plugins/TDPAffilManagement.java"/>
            <exclude name="org/drftpd/plugins/Trial.properties"/>
            <exclude name="org/drftpd/plugins/TrialTest.java"/>
            <exclude name="org/drftpd/plugins/XferLog.java"/>
            <exclude name="org/drftpd/sitebot/Bandwidth.java"/>
            <exclude name="org/drftpd/sitebot/Diskfree.java"/>
            <exclude name="org/drftpd/sitebot/GenericTextOutput.java"/>
            <exclude name="org/drftpd/sitebot/IRCCommand.java"/>
            <exclude name="org/drftpd/sitebot/Ident.java"/>
            <exclude name="org/drftpd/sitebot/Invite.java"/>
            <exclude name="org/drftpd/sitebot/OnConnect.java"/>
            <exclude name="org/drftpd/sitebot/Slaves.java"/>
            <exclude name="org/drftpd/sitebot/Stats.java"/>
            <exclude name="org/drftpd/sitebot/StatsTest.java"/>
            <exclude name="org/drftpd/sitebot/Trials.java"/>
            <exclude name="org/drftpd/sitebot/Who.java"/>
            <exclude name="org/drftpd/slave/TestSlave.java"/>
            <exclude name="org/drftpd/tests/"/>
            <exclude name="org/drftpd/usermanager/ResetMonthlyStats.java"/>
            <classpath refid="project.classpath"/>
        </javac>
    </target>
    <target name="Master">
        <java classname="org.drftpd.master.ConnectionManager" failonerror="true" fork="yes">
            <jvmarg value="-Dlog4j.configuration=file:conf/log4j-eclipse.properties"/>
            <jvmarg value="-Xmx200m"/>
            <classpath refid="project.classpath"/>
        </java>
    </target>
    <target name="Slave">
        <java classname="org.drftpd.slave.Slave" failonerror="true" fork="yes">
            <jvmarg value="-Dlog4j.configuration=file:conf/log4j-eclipse.properties"/>
            <jvmarg value="-Djava.library.path=lib"/>
            <classpath refid="project.classpath"/>
        </java>
    </target>
    <target name="UserManagementTest">
        <junit fork="yes" printsummary="withOutAndErr">
            <formatter type="plain"/>
            <test name="org.drftpd.commands.UserManagementTest"/>
            <classpath refid="project.classpath"/>
        </junit>
    </target>
    <target name="TrialTest">
        <junit fork="yes" printsummary="withOutAndErr">
            <formatter type="plain"/>
            <test name="org.drftpd.plugins.TrialTest"/>
            <classpath refid="project.classpath"/>
        </junit>
    </target>
    <target name="DataConnectionHandlerTest">
        <junit fork="yes" printsummary="withOutAndErr">
            <formatter type="plain"/>
            <test name="net.sf.drftpd.master.command.plugins.DataConnectionHandlerTest"/>
            <classpath refid="project.classpath"/>
        </junit>
    </target>
    <target name="LinkedRemoteFileTest">
        <junit fork="yes" printsummary="withOutAndErr">
            <formatter type="plain"/>
            <test name="org.drftpd.remotefile.LinkedRemoteFileTest"/>
            <classpath refid="project.classpath"/>
        </junit>
    </target>
    <target name="LoginTest">
        <junit fork="yes" printsummary="withOutAndErr">
            <formatter type="plain"/>
            <test name="net.sf.drftpd.master.command.plugins.LoginTest"/>
            <classpath refid="project.classpath"/>
        </junit>
    </target>
    <target name="VirtualFileSystemTest">
        <junit fork="yes" printsummary="withOutAndErr">
            <formatter type="plain"/>
            <test name="org.drftpd.vfs.VirtualFileSystemTest"/>
            <jvmarg value="-Dlog4j.configuration=file:conf/log4j-eclipse.properties"/>
            <jvmarg value="-Xmx2m"/>
            <classpath refid="project.classpath"/>
        </junit>
    </target>
</project>
